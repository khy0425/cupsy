<context>
# 개요  
Cupsy는 사용자가 하루의 감정과 상황을 선택하면, 감정에 어울리는 색상과 점도, 무늬를 기반으로 시각화된 감정 음료(Cup)를 만들어주는 모바일 앱입니다. 사용자의 감정을 시각적으로 표현하고 기록할 수 있으며, SNS 공유 기능과 광고 수익화 모델을 갖추고 있습니다. 회원가입 없이 사용 가능하며 감성적이고 미니멀한 UX를 추구합니다.

# 핵심 기능  
1. 감정 선택 및 시각화
   - 사용자가 현재의 감정과 하루 상황을 선택할 수 있는 직관적인 UI
   - 선택된 감정에 따라 색상, 점도, 무늬가 다른 음료 시각화
   - Flutter CustomPainter 또는 Lottie 애니메이션을 활용한 시각적 표현

2. SNS 공유 기능
   - 생성된 감정 음료를 SNS에 공유할 수 있는 기능
   - share_plus 패키지를 활용하여 다양한 플랫폼으로 공유 지원

3. 광고 수익화
   - 결과 이미지 보기 전 전면 광고 노출
   - 고해상도 저장, 컵 커스터마이징 등을 위한 리워드 광고 제공

4. 사용 제한 및 리텐션
   - 하루 한 잔만 생성 가능하도록 제한하여 다음 날 재방문 유도
   - 감정 기록 보기 기능 (향후 확장 가능)
   - 감정별 컵 수집 요소 도입 (gamification)

# 사용자 경험  
- 주 사용자: 자신의 감정을 표현하고 기록하고 싶은 MZ세대
- 핵심 사용자 플로우: 감정 선택 → 상황 선택 → 감정 음료 생성 → SNS 공유
- UI/UX 고려사항: 감성적이고 미니멀한 디자인, 직관적인 인터페이스, 부드러운 애니메이션
</context>
<PRD>
# 기술 아키텍처  
1. 시스템 구성 요소
   - Flutter 프론트엔드 (iOS, Android 크로스 플랫폼)
   - 로컬 데이터 스토리지 (Shared Preferences)
   - Google AdMob 광고 통합
   - SNS 공유 기능 (share_plus)

2. 데이터 모델
   - 감정 데이터 모델: 감정 유형, 색상, 점도, 패턴 매핑
   - 사용자 설정: 마지막 사용 시간, 선호 설정 등
   - 감정 음료 생성 이력 (선택적)

3. 상태 관리
   - Riverpod 또는 Provider를 활용한 상태 관리
   - 간단한 플로우와 최소한의 상태 변화에 중점

# 개발 로드맵  
1. MVP 요구사항
   - 기본 UI 및 페이지 구조 구현
   - 감정 및 상황 선택 UI
   - 기본 감정 음료 생성 알고리즘
   - 결과 이미지 저장 및 간단한 공유 기능

2. 향후 개선사항
   - 추가 감정 및 상황 유형 확장
   - 고급 애니메이션 효과
   - 감정 기록 보기 기능
   - 감정별 컵 수집 시스템
   - 인앱결제 도입 (광고 제거, 프리미엄 컵 등)

# 개발 순서 및 논리적 의존성
1. 기반 구조 개발
   - Flutter 프로젝트 설정 및 기본 구조 구축
   - 라우팅 및 페이지 구조 설계
   - 테마 및 스타일 정의

2. 핵심 기능 개발
   - 감정 및 상황 선택 UI 구현
   - 감정 음료 생성 알고리즘 개발
   - 결과 화면 구현

3. 부가 기능 구현
   - 이미지 저장 기능
   - SNS 공유 기능
   - 광고 통합 (전면 광고, 리워드 광고)

4. 테스트 및 배포
   - UI 테스트
   - 다양한 기기에서 호환성 테스트
   - 광고 연동 확인
   - 스토어 배포 준비

# 위험 요소 및 대응 방안  
1. 기술적 도전
   - 감정 음료 시각화의 복잡성: CustomPainter와 애니메이션 조합으로 단계적 구현
   - 크로스 플랫폼 호환성: Flutter의 장점을 활용한 다양한 기기 대응

2. MVP 구축 전략
   - 핵심 기능에 집중하여 먼저 기본적인 감정 표현 및 시각화 구현
   - 점진적으로 추가 기능 확장

3. 리소스 제약
   - 단순하고 효율적인 UI 디자인 채택
   - 외부 라이브러리 활용으로 개발 시간 단축

# 부록  
1. 기술 스택 상세
   - Flutter: 2.10 이상
   - Firebase (선택적): 사용자 분석용
   - 주요 패키지: google_mobile_ads, share_plus, flutter_riverpod, shared_preferences

2. 컬러 팔레트
   - 감정별 색상 맵핑: 기쁨(노랑), 슬픔(파랑), 분노(빨강), 평온(초록) 등
   - 앱 테마: 미니멀하고 현대적인 디자인
</PRD> 